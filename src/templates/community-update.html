{% extends "base.html" %} {% block stylesheets %}
<link rel="stylesheet" href="../static/css/social-media.css" />
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
/>
{% endblock %} {% block body %}
<div class="container mt-5" style="max-width: 550px">
  <h1 class="text-center text-secondary mb-4">Update Post</h1>

  <div class="card">
    <div class="card-body">
      <img
        src="{{ url_for('static', filename='uploads/' + post.image_filename) }}"
        class="card-img-top"
        alt="Post Image"
      />
      <p class="card-text">{{ post.description }}</p>
    </div>
  </div>
</div>
<!-- Update Post Form -->
<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-8 col-lg-6">
      <div class="card shadow-sm">
        <div class="card-body">
          <h4 class="card-title text-center mb-4">Update Post</h4>
          <form
            action="{{ url_for('update_post', post_id=post.id) }}"
            method="POST"
            enctype="multipart/form-data"
          >
            <!-- Content Field -->
            <div class="mb-3">
              <label for="content" class="form-label">Content:</label>
              <textarea
                name="content"
                id="content"
                class="form-control"
                rows="4"
              >
{{ post.content }}</textarea
              >
            </div>

            <!-- Image Field -->
            <div class="mb-3">
              <label for="image" class="form-label"
                >Change Image (optional):</label
              >
              <input type="file" name="image" id="image" class="form-control" />
            </div>

            <!-- Submit Button -->
            <div class="text-center">
              <button type="submit" class="btn btn-primary">Update Post</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  // JavaScript to toggle the dropdown menu and hide it when clicking outside
  document.addEventListener("click", function (event) {
    document.querySelectorAll(".dots-btn").forEach((button) => {
      const dropdown = button.nextElementSibling;
      if (button.contains(event.target)) {
        dropdown.style.display =
          dropdown.style.display === "block" ? "none" : "block";
      } else {
        dropdown.style.display = "none";
      }
    });
  });
</script>
{% endblock %}