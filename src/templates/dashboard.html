{% extends "base.html" %}

{% block body %}
<div class="container mt-4">
    <h2 class="text-center">User Dashboard</h2>
    
    <!-- KPI Section -->
    <div class="row text-center">
        <div class="col-md-4">
            <h4>Total Earned</h4>
            <p class="text-success" style="font-size: 24px; font-weight: bold;">+{{ total_earned }} pts</p>
        </div>
        <div class="col-md-4">
            <h4>Net Transactions</h4>
            <p class="text-primary" style="font-size: 24px; font-weight: bold;">{{ net_transactions }} pts</p>
        </div>
        <div class="col-md-4">
            <h4>Total Redeemed</h4>
            <p class="text-danger" style="font-size: 24px; font-weight: bold;">-{{ total_redeemed }} pts</p>
        </div>
    </div>

    <hr>

    <!-- Bar Chart -->
    <div class="text-center">
        <h3>Most Used Transaction Types</h3>
        <img src="data:image/png;base64,{{ bar_chart_url }}" class="img-fluid">
    </div>

    <hr>

    <!-- Line Chart -->
    <div class="text-center">
        <h3>Daily Points Earned & Redeemed</h3>
        <img src="data:image/png;base64,{{ line_chart_url }}" class="img-fluid">
    </div>

    <hr>

    <!-- Back to Transactions -->
    <div class="text-center">
        <a href="{{ url_for('transactions') }}" class="btn btn-primary">Back to Transactions</a>
    </div>
</div>
{% endblock %}
