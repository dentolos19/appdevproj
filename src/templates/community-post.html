{% extends "base.html" %}

{% block body %}
<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-8 col-lg-6">
      <div class="card shadow-lg">
        <div class="card-body">
          <h1 class="card-title text-center mb-4">Add Your Post</h1>

          <form action="{{ url_for('community_post') }}" method="POST" enctype="multipart/form-data">
            <!-- Content Field -->
            <div class="mb-3">
              <label for="content" class="form-label">Write your post:</label>
              <textarea id="content" name="content" rows="4" class="form-control" placeholder="What's on your mind?" required></textarea>
            </div>

            <!-- Image Upload Field -->
            <div class="mb-3">
              <label for="image" class="form-label">Upload an image (optional):</label>
              <input type="file" id="image" name="image" class="form-control" />
            </div>

            <!-- Submit Button -->
            <div class="text-center">
              <button type="submit" class="post-btn btn btn-primary w-100">Post</button>
            </div>
          </form>

          <!-- Go to Home Link -->
          <div class="text-center mt-3">
            <a href="{{ url_for('community') }}" class=" btn btn-link">Go to Home</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  const PostButtons = document.querySelectorAll("button.post-btn");
  PostButtons.forEach(element => {
    element.addEventListener("click", () => {
      console.log("Hello");
      confirm("Are you sure you want to Post?");
      const PostForm = element.closest("form");
      PostForm.submit();
    });
  });
</script>
{% endblock %}